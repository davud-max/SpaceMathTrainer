# 🚀 SpaceMathTrainer
**Русский** | [English](README.md)
**Интерактивный тренажер математических навыков с голосовым управлением для iOS**

SpaceMathTrainer - это современное iOS приложение для изучения и тренировки математических навыков с использованием голосового взаимодействия, распознавания речи и адаптивных звуковых уведомлений.

## ✨ Особенности

### 🎯 Интерактивная математика
- **Голосовые вопросы** - приложение произносит математические примеры
- **Голосовые ответы** - отвечайте голосом, без необходимости печатать
- **Мгновенная обратная связь** - звуковые и тактильные уведомления

### 📚 Математические операции
- ➕ **Сложение** - примеры на сложение чисел
- ➖ **Вычитание** - примеры на вычитание 
- ✖️ **Умножение** - таблица умножения и общие примеры
- ➗ **Деление** - примеры на деление нацело

### 🎚️ Настройка сложности
- **Легкий уровень** - числа от 1 до 10
- **Средний уровень** - числа от 1 до 50  
- **Сложный уровень** - числа от 1 до 100

### 🌍 Мультиязычность
- **Русский язык** - полная поддержка русской речи
- **Английский язык** - поддержка английской речи
- **Автоматическое переключение** голосов и распознавания

### 🔊 Продвинутая аудиосистема
- **Высококачественные звуки** с использованием AVAudioPlayer
- **Различные тоны** для правильных и неправильных ответов
- **Тактильная обратная связь** (вибрация) на поддерживаемых устройствах
- **Голос Milena** для русского языка (при наличии)

## 🛠 Технические требования

### Минимальные требования
- **iOS 15.0+**
- **iPhone/iPad** с поддержкой микрофона
- **Разрешения**: микрофон и распознавание речи

### Рекомендуемые настройки
- **Громкость медиа**: 75%+
- **Переключатель беззвучного режима**: выключен
- **Настройки > Звуки > Звуки кнопок**: включены
- **Наушники**: рекомендуются для лучшего качества звука

## 🏗 Архитектура

### Основные компоненты

#### `MathGameManager`
- Управление игровым процессом
- Генерация математических задач
- Обработка ответов и подсчет результатов
- Координация с аудиосистемой

#### `SpeechManager`
- Синтез речи (Text-to-Speech)
- Распознавание речи (Speech-to-Text)
- Управление аудиосессией
- Звуковые уведомления и обратная связь

#### `AppState`
- Глобальное состояние приложения
- Настройки пользователя
- Координация между компонентами

### Используемые фреймворки
- **SwiftUI** - пользовательский интерфейс
- **AVFoundation** - аудио и речевой синтез
- **Speech** - распознавание речи
- **AudioToolbox** - системные звуки и вибрация

## 🚀 Установка и запуск

### Предварительные требования
```bash
Xcode 14.0+
iOS 15.0+ deployment target
macOS 12.0+ для разработки
```

### Клонирование репозитория
```bash
git clone https://github.com/your-username/SpaceMathTrainer.git
cd SpaceMathTrainer
```

### Настройка проекта
1. Откройте `SpaceMathTrainer.xcodeproj` в Xcode
2. Выберите целевое устройство (iPhone/iPad)
3. Убедитесь что выбрана правильная команда разработки
4. Запустите проект (`Cmd + R`)

### Разрешения
При первом запуске приложение запросит:
- **Доступ к микрофону** - для распознавания голосовых ответов
- **Распознавание речи** - для обработки голосовых команд

## 📱 Использование

### Начало тренировки
1. Выберите **математические операции** (можно несколько)
2. Установите **уровень сложности**
3. Выберите **количество задач**
4. Установите **язык интерфейса**
5. Нажмите **"Начать тренировку"**

### Процесс обучения
1. **Слушайте вопрос** - приложение произнесет математический пример
2. **Отвечайте голосом** - произнесите ответ четко
3. **Получайте обратную связь** - звук и вибрация подтвердят правильность
4. **Переходите к следующему** - автоматически или по таймауту

### Управление
- **Повтор вопроса** - кнопка "🔄"
- **Пропустить вопрос** - кнопка "⏭️"
- **Остановить тренировку** - кнопка "⏹️"

## 🔧 Настройка и отладка

### Проблемы со звуком
Если звуки не воспроизводятся:

1. **Проверьте переключатель беззвучного режима**
   ```
   Физический переключатель на левой стороне iPhone
   Красная полоска = включен беззвучный режим
   ```

2. **Увеличьте громкость медиа**
   ```
   Используйте кнопки громкости ⬆️⬇️
   Рекомендуется 75%+
   ```

3. **Проверьте настройки звуков**
   ```
   Настройки > Звуки и тактильные сигналы > Звуки кнопок = ВКЛ
   ```

4. **Подключите наушники**
   ```
   Часто решает проблемы с динамиками iPhone
   ```

### Проблемы с распознаванием речи
Если речь плохо распознается:

1. **Говорите четко и громко**
2. **Минимизируйте фоновый шум**
3. **Убедитесь что микрофон не заблокирован**
4. **Проверьте разрешения в Настройки > Конфиденциальность**

### Отладка
Для просмотра детальных логов:
```swift
print("🔊 Audio session volume: \(audioSession.outputVolume)")
print("📱 Current audio route: \(currentRoute.outputs)")
print("🎤 Microphone permission: \(microphonePermission)")
```

## 📊 Статистика и результаты

### Отслеживание прогресса
- **Количество правильных ответов**
- **Общее количество вопросов**
- **Процент успешности**
- **Время ответа на каждый вопрос**
- **История ответов**

### Формат результатов
```swift
struct TaskResult {
    let question: String        // Текст вопроса
    let userAnswer: String      // Ответ пользователя
    let correctAnswer: Int      // Правильный ответ
    let isCorrect: Bool         // Правильность
    let responseTime: TimeInterval // Время ответа
    let timestamp: Date         // Время вопроса
}
```

## 🤝 Участие в разработке

### Структура кода
```
SpaceMathTrainer/
├── Models/
│   ├── MathOperation.swift
│   ├── Difficulty.swift
│   └── TaskResult.swift
├── Managers/
│   ├── MathGameManager.swift
│   ├── SpeechManager.swift
│   └── AppState.swift
├── Views/
│   ├── ContentView.swift
│   ├── GameView.swift
│   └── SettingsView.swift
└── Resources/
    ├── Info.plist
    └── Assets.xcassets
```

### Рекомендации по коду
- Используйте `@MainActor` для UI-операций
- Обрабатывайте ошибки аудиосессии
- Тестируйте на реальных устройствах
- Следуйте принципам MVVM

## 📝 Лицензия

MIT License

## 🆘 Поддержка

### Частые проблемы
- **Нет звука** → Проверьте переключатель беззвучного режима
- **Не распознает речь** → Проверьте разрешения микрофона
- **Плохое качество звука** → Используйте наушники
- **Вылеты приложения** → Обновите iOS до последней версии

### Контакты
- **Issues**: [GitHub Issues](https://github.com/your-username/SpaceMathTrainer/issues)
- **Email**: your-email@example.com
- **Telegram**: @your_username

---

**SpaceMathTrainer** - делаем изучение математики интерактивным и увлекательным! 🚀📱✨
